syntax = "proto3";

package johnjud.file.image.v1;

option go_package = "johnjud/file/image/v1";

service ImageService {
  rpc Upload(UploadRequest) returns (UploadResponse){}
  rpc FindByPetId(FindByPetIdRequest) returns (FindByPetIdResponse) {}
}

message Image{
  string id = 1;
  string petId = 2;
  string imageUrl = 3;
}

// Upload

message UploadRequest{
  string filename = 1;
  bytes data = 2;
  string petId = 3;
}

message UploadResponse{
  Image image = 1;
}

// Find By Pet Id

message FindByPetIdRequest{
  string petId = 1;
}

message FindByPetIdResponse{
  repeated Image images = 1;
}
